(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42a794ad"],{"0328":function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoging,expression:"isLoging"}],attrs:{id:"devicePlayer"}},[e.showVideoDialog?s("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{title:"视频播放",top:"0","append-to-body":"","close-on-click-modal":!1,visible:e.showVideoDialog},on:{"update:visible":function(t){e.showVideoDialog=t},close:function(t){return e.close()}}},[s("div",{staticStyle:{width:"100%",height:"100%"}},[Object.keys(this.player).length>1?s("el-tabs",{attrs:{type:"card",stretch:!0},on:{"tab-click":e.changePlayer},model:{value:e.activePlayer,callback:function(t){e.activePlayer=t},expression:"activePlayer"}},[s("el-tab-pane",{attrs:{label:"Jessibuca",name:"jessibuca"}},["jessibuca"===e.activePlayer?s("jessibucaPlayer",{ref:"jessibuca",attrs:{visible:e.showVideoDialog,"video-url":e.videoUrl,error:e.videoError,message:e.videoError,"has-audio":e.hasAudio,fluent:"",autoplay:"",live:""},on:{"update:visible":function(t){e.showVideoDialog=t}}}):e._e()],1),s("el-tab-pane",{attrs:{label:"WebRTC",name:"webRTC"}},["webRTC"===e.activePlayer?s("rtc-player",{ref:"webRTC",attrs:{visible:e.showVideoDialog,"video-url":e.videoUrl,error:e.videoError,message:e.videoError,height:"100px","has-audio":e.hasAudio,fluent:"",autoplay:"",live:""},on:{"update:visible":function(t){e.showVideoDialog=t}}}):e._e()],1),s("el-tab-pane",{attrs:{label:"h265web",name:"h265web"}},["h265web"===e.activePlayer?s("h265web",{ref:"h265web",attrs:{"video-url":e.videoUrl,error:e.videoError,message:e.videoError,"has-audio":e.hasAudio,fluent:"",autoplay:"",live:"","show-button":!0}}):e._e()],1)],1):e._e(),1==Object.keys(this.player).length&&this.player.jessibuca?s("jessibucaPlayer",{ref:"jessibuca",attrs:{visible:e.showVideoDialog,"video-url":e.videoUrl,error:e.videoError,message:e.videoError,"has-audio":e.hasAudio,fluent:"",autoplay:"",live:""},on:{"update:visible":function(t){e.showVideoDialog=t}}}):e._e(),1==Object.keys(this.player).length&&this.player.webRTC?s("rtc-player",{ref:"jessibuca",attrs:{visible:e.showVideoDialog,"video-url":e.videoUrl,error:e.videoError,message:e.videoError,height:"100px","has-audio":e.hasAudio,fluent:"",autoplay:"",live:""},on:{"update:visible":function(t){e.showVideoDialog=t}}}):e._e(),1==Object.keys(this.player).length&&this.player.h265web?s("h265web",{ref:"jessibuca",attrs:{visible:e.showVideoDialog,"video-url":e.videoUrl,error:e.videoError,message:e.videoError,height:"100px","has-audio":e.hasAudio,fluent:"",autoplay:"",live:""},on:{"update:visible":function(t){e.showVideoDialog=t}}}):e._e()],1),s("div",{staticStyle:{"text-align":"right","margin-top":"1rem"},attrs:{id:"shared"}},[s("el-tabs",{on:{"tab-click":e.tabHandleClick},model:{value:e.tabActiveName,callback:function(t){e.tabActiveName=t},expression:"tabActiveName"}},[s("el-tab-pane",{attrs:{label:"实时视频",name:"media"}},[s("div",{staticStyle:{display:"flex","margin-bottom":"0.5rem",height:"2.5rem"}},[s("span",{staticStyle:{width:"5rem","line-height":"2.5rem","text-align":"right"}},[e._v("播放地址：")]),s("el-input",{attrs:{disabled:!0},model:{value:e.getPlayerShared.sharedUrl,callback:function(t){e.$set(e.getPlayerShared,"sharedUrl",t)},expression:"getPlayerShared.sharedUrl"}},[s("template",{slot:"append"},[s("i",{staticClass:"cpoy-btn el-icon-document-copy",staticStyle:{cursor:"pointer"},attrs:{title:"点击拷贝"},on:{click:function(t){return e.copyUrl(e.getPlayerShared.sharedUrl)}}})])],2)],1),s("div",{staticStyle:{display:"flex","margin-bottom":"0.5rem",height:"2.5rem"}},[s("span",{staticStyle:{width:"5rem","line-height":"2.5rem","text-align":"right"}},[e._v("iframe：")]),s("el-input",{attrs:{disabled:!0},model:{value:e.getPlayerShared.sharedIframe,callback:function(t){e.$set(e.getPlayerShared,"sharedIframe",t)},expression:"getPlayerShared.sharedIframe"}},[s("template",{slot:"append"},[s("i",{staticClass:"cpoy-btn el-icon-document-copy",staticStyle:{cursor:"pointer"},attrs:{title:"点击拷贝"},on:{click:function(t){return e.copyUrl(e.getPlayerShared.sharedIframe)}}})])],2)],1),s("div",{staticStyle:{display:"flex","margin-bottom":"0.5rem",height:"2.5rem"}},[s("span",{staticStyle:{width:"5rem","line-height":"2.5rem","text-align":"right"}},[e._v("资源地址：")]),s("el-input",{attrs:{disabled:!0},model:{value:e.getPlayerShared.sharedRtmp,callback:function(t){e.$set(e.getPlayerShared,"sharedRtmp",t)},expression:"getPlayerShared.sharedRtmp"}},[s("el-button",{staticStyle:{cursor:"pointer"},attrs:{slot:"append",icon:"el-icon-document-copy",title:"点击拷贝"},on:{click:function(t){return e.copyUrl(e.getPlayerShared.sharedIframe)}},slot:"append"}),e.streamInfo?s("el-dropdown",{attrs:{slot:"prepend",trigger:"click"},on:{command:e.copyUrl},slot:"prepend"},[s("el-button",[e._v(" 更多地址"),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),s("el-dropdown-menu",[e.streamInfo.flv?s("el-dropdown-item",{attrs:{command:e.streamInfo.flv}},[s("el-tag",[e._v("FLV:")]),s("span",[e._v(e._s(e.streamInfo.flv))])],1):e._e(),e.streamInfo.https_flv?s("el-dropdown-item",{attrs:{command:e.streamInfo.https_flv}},[s("el-tag",[e._v("FLV(https):")]),s("span",[e._v(e._s(e.streamInfo.https_flv))])],1):e._e(),e.streamInfo.ws_flv?s("el-dropdown-item",{attrs:{command:e.streamInfo.ws_flv}},[s("el-tag",[e._v("FLV(ws):")]),s("span",[e._v(e._s(e.streamInfo.ws_flv))])],1):e._e(),e.streamInfo.wss_flv?s("el-dropdown-item",{attrs:{command:e.streamInfo.wss_flv}},[s("el-tag",[e._v("FLV(wss):")]),s("span",[e._v(e._s(e.streamInfo.wss_flv))])],1):e._e(),e.streamInfo.fmp4?s("el-dropdown-item",{attrs:{command:e.streamInfo.fmp4}},[s("el-tag",[e._v("FMP4:")]),s("span",[e._v(e._s(e.streamInfo.fmp4))])],1):e._e(),e.streamInfo.https_fmp4?s("el-dropdown-item",{attrs:{command:e.streamInfo.https_fmp4}},[s("el-tag",[e._v("FMP4(https):")]),s("span",[e._v(e._s(e.streamInfo.https_fmp4))])],1):e._e(),e.streamInfo.ws_fmp4?s("el-dropdown-item",{attrs:{command:e.streamInfo.ws_fmp4}},[s("el-tag",[e._v("FMP4(ws):")]),s("span",[e._v(e._s(e.streamInfo.ws_fmp4))])],1):e._e(),e.streamInfo.wss_fmp4?s("el-dropdown-item",{attrs:{command:e.streamInfo.wss_fmp4}},[s("el-tag",[e._v("FMP4(wss):")]),s("span",[e._v(e._s(e.streamInfo.wss_fmp4))])],1):e._e(),e.streamInfo.hls?s("el-dropdown-item",{attrs:{command:e.streamInfo.hls}},[s("el-tag",[e._v("HLS:")]),s("span",[e._v(e._s(e.streamInfo.hls))])],1):e._e(),e.streamInfo.https_hls?s("el-dropdown-item",{attrs:{command:e.streamInfo.https_hls}},[s("el-tag",[e._v("HLS(https):")]),s("span",[e._v(e._s(e.streamInfo.https_hls))])],1):e._e(),e.streamInfo.ws_hls?s("el-dropdown-item",{attrs:{command:e.streamInfo.ws_hls}},[s("el-tag",[e._v("HLS(ws):")]),s("span",[e._v(e._s(e.streamInfo.ws_hls))])],1):e._e(),e.streamInfo.wss_hls?s("el-dropdown-item",{attrs:{command:e.streamInfo.wss_hls}},[s("el-tag",[e._v("HLS(wss):")]),s("span",[e._v(e._s(e.streamInfo.wss_hls))])],1):e._e(),e.streamInfo.ts?s("el-dropdown-item",{attrs:{command:e.streamInfo.ts}},[s("el-tag",[e._v("TS:")]),s("span",[e._v(e._s(e.streamInfo.ts))])],1):e._e(),e.streamInfo.https_ts?s("el-dropdown-item",{attrs:{command:e.streamInfo.https_ts}},[s("el-tag",[e._v("TS(https):")]),s("span",[e._v(e._s(e.streamInfo.https_ts))])],1):e._e(),e.streamInfo.ws_ts?s("el-dropdown-item",{attrs:{command:e.streamInfo.ws_ts}},[s("el-tag",[e._v("TS(ws):")]),s("span",[e._v(e._s(e.streamInfo.ws_ts))])],1):e._e(),e.streamInfo.wss_ts?s("el-dropdown-item",{attrs:{command:e.streamInfo.wss_ts}},[s("el-tag",[e._v("TS(wss):")]),s("span",[e._v(e._s(e.streamInfo.wss_ts))])],1):e._e(),e.streamInfo.rtc?s("el-dropdown-item",{attrs:{command:e.streamInfo.rtc}},[s("el-tag",[e._v("RTC:")]),s("span",[e._v(e._s(e.streamInfo.rtc))])],1):e._e(),e.streamInfo.rtcs?s("el-dropdown-item",{attrs:{command:e.streamInfo.rtcs}},[s("el-tag",[e._v("RTCS:")]),s("span",[e._v(e._s(e.streamInfo.rtcs))])],1):e._e(),e.streamInfo.rtmp?s("el-dropdown-item",{attrs:{command:e.streamInfo.rtmp}},[s("el-tag",[e._v("RTMP:")]),s("span",[e._v(e._s(e.streamInfo.rtmp))])],1):e._e(),e.streamInfo.rtmps?s("el-dropdown-item",{attrs:{command:e.streamInfo.rtmps}},[s("el-tag",[e._v("RTMPS:")]),s("span",[e._v(e._s(e.streamInfo.rtmps))])],1):e._e(),e.streamInfo.rtsp?s("el-dropdown-item",{attrs:{command:e.streamInfo.rtsp}},[s("el-tag",[e._v("RTSP:")]),s("span",[e._v(e._s(e.streamInfo.rtsp))])],1):e._e(),e.streamInfo.rtsps?s("el-dropdown-item",{attrs:{command:e.streamInfo.rtsps}},[s("el-tag",[e._v("RTSPS:")]),s("span",[e._v(e._s(e.streamInfo.rtsps))])],1):e._e()],1)],1):e._e()],1)],1)]),e.showPtz?s("el-tab-pane",{attrs:{label:"云台控制",name:"control"}},[s("div",{staticStyle:{display:"grid","grid-template-columns":"240px auto",height:"180px",overflow:"auto"}},[s("div",{staticStyle:{display:"grid","grid-template-columns":"6.25rem auto"}},[s("div",{staticClass:"control-wrapper"},[s("div",{staticClass:"control-btn control-top",on:{mousedown:function(t){return e.ptzCamera("up")},mouseup:function(t){return e.ptzCamera("stop")}}},[s("i",{staticClass:"el-icon-caret-top"}),s("div",{staticClass:"control-inner-btn control-inner"})]),s("div",{staticClass:"control-btn control-left",on:{mousedown:function(t){return e.ptzCamera("left")},mouseup:function(t){return e.ptzCamera("stop")}}},[s("i",{staticClass:"el-icon-caret-left"}),s("div",{staticClass:"control-inner-btn control-inner"})]),s("div",{staticClass:"control-btn control-bottom",on:{mousedown:function(t){return e.ptzCamera("down")},mouseup:function(t){return e.ptzCamera("stop")}}},[s("i",{staticClass:"el-icon-caret-bottom"}),s("div",{staticClass:"control-inner-btn control-inner"})]),s("div",{staticClass:"control-btn control-right",on:{mousedown:function(t){return e.ptzCamera("right")},mouseup:function(t){return e.ptzCamera("stop")}}},[s("i",{staticClass:"el-icon-caret-right"}),s("div",{staticClass:"control-inner-btn control-inner"})]),s("div",{staticClass:"control-round"},[s("div",{staticClass:"control-round-inner"},[s("i",{staticClass:"fa fa-pause-circle"})])]),s("div",{staticClass:"contro-speed",staticStyle:{position:"absolute",left:"4px",top:"7rem",width:"6.25rem"}},[s("el-slider",{attrs:{max:100},model:{value:e.controSpeed,callback:function(t){e.controSpeed=t},expression:"controSpeed"}})],1)]),s("div",[s("div",{staticClass:"ptz-btn-box"},[s("div",{attrs:{title:"变倍+"},on:{mousedown:function(t){return e.ptzCamera("zoomin")},mouseup:function(t){return e.ptzCamera("stop")}}},[s("i",{staticClass:"el-icon-zoom-in control-zoom-btn",staticStyle:{"font-size":"1.5rem"}})]),s("div",{attrs:{title:"变倍-"},on:{mousedown:function(t){return e.ptzCamera("zoomout")},mouseup:function(t){return e.ptzCamera("stop")}}},[s("i",{staticClass:"el-icon-zoom-out control-zoom-btn",staticStyle:{"font-size":"1.5rem"}})])]),s("div",{staticClass:"ptz-btn-box"},[s("div",{attrs:{title:"聚焦+"},on:{mousedown:function(t){return e.focusCamera("near")},mouseup:function(t){return e.focusCamera("stop")}}},[s("i",{staticClass:"iconfont icon-bianjiao-fangda control-zoom-btn",staticStyle:{"font-size":"1.5rem"}})]),s("div",{attrs:{title:"聚焦-"},on:{mousedown:function(t){return e.focusCamera("far")},mouseup:function(t){return e.focusCamera("stop")}}},[s("i",{staticClass:"iconfont icon-bianjiao-suoxiao control-zoom-btn",staticStyle:{"font-size":"1.5rem"}})])]),s("div",{staticClass:"ptz-btn-box"},[s("div",{attrs:{title:"光圈+"},on:{mousedown:function(t){return e.irisCamera("in")},mouseup:function(t){return e.irisCamera("stop")}}},[s("i",{staticClass:"iconfont icon-guangquan control-zoom-btn",staticStyle:{"font-size":"1.5rem"}})]),s("div",{attrs:{title:"光圈-"},on:{mousedown:function(t){return e.irisCamera("out")},mouseup:function(t){return e.irisCamera("stop")}}},[s("i",{staticClass:"iconfont icon-guangquan- control-zoom-btn",staticStyle:{"font-size":"1.5rem"}})])])])]),"control"===e.tabActiveName?s("div",{staticStyle:{"text-align":"left"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini",placeholder:"请选择云台功能"},model:{value:e.ptzMethod,callback:function(t){e.ptzMethod=t},expression:"ptzMethod"}},[s("el-option",{attrs:{label:"预置点",value:"preset"}}),s("el-option",{attrs:{label:"巡航组",value:"cruise"}}),s("el-option",{attrs:{label:"自动扫描",value:"scan"}}),s("el-option",{attrs:{label:"雨刷",value:"wiper"}}),s("el-option",{attrs:{label:"辅助开关",value:"switch"}})],1),"preset"===e.ptzMethod?s("ptzPreset",{staticStyle:{"margin-top":"1rem"},attrs:{"channel-device-id":e.channelId,"device-id":e.deviceId}}):e._e(),"cruise"===e.ptzMethod?s("ptzCruising",{staticStyle:{"margin-top":"1rem"},attrs:{"channel-device-id":e.channelId,"device-id":e.deviceId}}):e._e(),"scan"===e.ptzMethod?s("ptzScan",{staticStyle:{"margin-top":"1rem"},attrs:{"channel-device-id":e.channelId,"device-id":e.deviceId}}):e._e(),"wiper"===e.ptzMethod?s("ptzWiper",{staticStyle:{"margin-top":"1rem"},attrs:{"channel-device-id":e.channelId,"device-id":e.deviceId}}):e._e(),"switch"===e.ptzMethod?s("ptzSwitch",{staticStyle:{"margin-top":"1rem"},attrs:{"channel-device-id":e.channelId,"device-id":e.deviceId}}):e._e()],1):e._e()])]):e._e(),s("el-tab-pane",{attrs:{label:"编码信息",name:"codec"}},[s("mediaInfo",{ref:"mediaInfo",attrs:{app:e.app,stream:e.streamId,"media-server-id":e.mediaServerId}})],1),e.showBroadcast?s("el-tab-pane",{attrs:{label:"语音对讲",name:"broadcast"}},[s("div",{staticStyle:{padding:"0 10px"}},[s("el-radio-group",{attrs:{disabled:-1!==e.broadcastStatus},model:{value:e.broadcastMode,callback:function(t){e.broadcastMode=t},expression:"broadcastMode"}},[s("el-radio",{attrs:{label:!0}},[e._v("喊话(Broadcast)")]),s("el-radio",{attrs:{label:!1}},[e._v("对讲(Talk)")])],1)],1),s("div",{staticClass:"trank",staticStyle:{"text-align":"center"}},[s("el-button",{staticStyle:{"font-size":"32px",padding:"24px","margin-top":"24px"},attrs:{type:e.getBroadcastStatus(),disabled:-2===e.broadcastStatus,circle:"",icon:"el-icon-microphone"},on:{click:function(t){return e.broadcastStatusClick()}}}),s("p",[-2===e.broadcastStatus?s("span",[e._v("正在释放资源")]):e._e(),-1===e.broadcastStatus?s("span",[e._v("点击开始对讲")]):e._e(),0===e.broadcastStatus?s("span",[e._v("等待接通中...")]):e._e(),1===e.broadcastStatus?s("span",[e._v("请说话")]):e._e()])],1)]):e._e()],1)],1)]):e._e()],1)},a=[],i=(s("caad"),s("b0c0"),s("e9c4"),s("b64b"),s("2532"),s("a888")),o=s("1c46"),r=s.n(o),c=s("bbf2"),l=s("2655"),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{width:"100%"},attrs:{id:"ptzPreset"}},[e._l(e.presetList,(function(t){return s("el-tag",{key:t.presetId,staticStyle:{"margin-right":"1rem",cursor:"pointer","margin-bottom":"0.6rem"},attrs:{closable:"",size:"mini"},on:{close:function(s){return e.delPreset(t)},click:function(s){return e.gotoPreset(t)}}},[e._v(" "+e._s(t.presetName?t.presetName:t.presetId)+" ")])})),e.inputVisible?s("el-input",{ref:"saveTagInput",staticStyle:{width:"300px","vertical-align":"bottom"},attrs:{min:"1",max:"255",placeholder:"预置位编号","addon-before":"预置位编号","addon-after":"(1-255)",size:"small"},scopedSlots:e._u([{key:"append",fn:function(){return[s("el-button",{on:{click:function(t){return e.addPreset()}}},[e._v("保存")]),s("el-button",{on:{click:function(t){return e.cancel()}}},[e._v("取消")])]},proxy:!0}],null,!1,3889715118),model:{value:e.ptzPresetId,callback:function(t){e.ptzPresetId=t},expression:"ptzPresetId"}}):s("el-button",{attrs:{size:"small"},on:{click:e.showInput}},[e._v("+ 添加")])],2)},u=[],h=(s("d3b7"),{name:"PtzPreset",components:{},props:["channelDeviceId","deviceId"],data:function(){return{presetList:[],inputVisible:!1,ptzPresetId:""}},created:function(){this.getPresetList()},methods:{getPresetList:function(){var e=this;this.$store.dispatch("frontEnd/queryPreset",[this.deviceId,this.channelDeviceId]).then((function(t){e.presetList=t,e.$nextTick((function(){e.$refs.channelListTable.doLayout()}))}))},showInput:function(){var e=this;this.inputVisible=!0,this.$nextTick((function(t){e.$refs.saveTagInput.$refs.input.focus()}))},addPreset:function(){var e=this,t=this.$loading({lock:!0,fullscreen:!0,text:"正在发送指令",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$store.dispatch("frontEnd/addPreset",[this.deviceId,this.channelDeviceId,this.ptzPresetId]).then((function(t){setTimeout((function(){e.inputVisible=!1,e.ptzPresetId="",e.getPresetList()}),1e3)})).catch((function(s){t.close(),e.inputVisible=!1,e.ptzPresetId="",e.$message({showClose:!0,message:s,type:"error"})})).finally((function(){t.close()}))},cancel:function(){this.inputVisible=!1,this.ptzPresetId=""},gotoPreset:function(e){var t=this;console.log(e),this.$store.dispatch("frontEnd/callPreset",[this.deviceId,this.channelDeviceId,e.presetId]).then((function(e){t.$message({showClose:!0,message:"调用成功",type:"success"})})).catch((function(e){t.$message({showClose:!0,message:e,type:"error"})}))},delPreset:function(e){var t=this;this.$confirm("确定删除此预置位","提示",{dangerouslyUseHTMLString:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var s=t.$loading({lock:!0,fullscreen:!0,text:"正在发送指令",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});t.$store.dispatch("frontEnd/deletePreset",[t.deviceId,t.channelDeviceId,e.presetId]).then((function(e){setTimeout((function(){t.getPresetList()}),1e3)})).catch((function(e){t.$message({showClose:!0,message:e,type:"error"})})).finally((function(){s.close()}))})).catch((function(){}))}}}),f=h,p=s("2877"),m=Object(p["a"])(f,d,u,!1,null,null,null),g=m.exports,v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"ptzCruising"}},[s("div",{staticStyle:{display:"grid","grid-template-columns":"80px auto","line-height":"28px"}},[s("span",[e._v("巡航组号: ")]),s("el-input",{attrs:{min:"1",max:"255",placeholder:"巡航组号","addon-before":"巡航组号","addon-after":"(1-255)",size:"mini"},model:{value:e.cruiseId,callback:function(t){e.cruiseId=t},expression:"cruiseId"}})],1),s("p",e._l(e.presetList,(function(t,n){return s("el-tag",{key:t.presetId,staticStyle:{"margin-right":"1rem",cursor:"pointer"},attrs:{closable:""},on:{close:function(s){return e.delPreset(t,n)}}},[e._v(" "+e._s(t.presetName?t.presetName:t.presetId)+" ")])})),1),e.selectPresetVisible?s("el-form",{attrs:{size:"mini",inline:!0}},[s("el-form-item",[s("el-select",{attrs:{placeholder:"请选择预置点"},model:{value:e.selectPreset,callback:function(t){e.selectPreset=t},expression:"selectPreset"}},e._l(e.allPresetList,(function(e){return s("el-option",{key:e.presetId,attrs:{label:e.presetName,value:e}})})),1)],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.addCruisePoint}},[e._v("保存")]),s("el-button",{attrs:{type:"primary"},on:{click:e.cancelAddCruisePoint}},[e._v("取消")])],1)],1):s("el-button",{attrs:{size:"mini"},on:{click:function(t){e.selectPresetVisible=!0}}},[e._v("添加巡航点")]),e.setSpeedVisible?s("el-form",{attrs:{size:"mini",inline:!0}},[s("el-form-item",[e.setSpeedVisible?s("el-input",{attrs:{min:"1",max:"4095",placeholder:"巡航速度","addon-before":"巡航速度","addon-after":"(1-4095)",size:"mini"},model:{value:e.cruiseSpeed,callback:function(t){e.cruiseSpeed=t},expression:"cruiseSpeed"}}):e._e()],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.setCruiseSpeed}},[e._v("保存")]),s("el-button",{on:{click:e.cancelSetCruiseSpeed}},[e._v("取消")])],1)],1):s("el-button",{attrs:{size:"mini"},on:{click:function(t){e.setSpeedVisible=!0}}},[e._v("设置巡航速度")]),e.setTimeVisible?s("el-form",{attrs:{size:"mini",inline:!0}},[s("el-form-item",[s("el-input",{staticStyle:{width:"100%"},attrs:{min:"1",max:"4095",placeholder:"巡航停留时间(秒)","addon-before":"巡航停留时间(秒)","addon-after":"(1-4095)"},model:{value:e.cruiseTime,callback:function(t){e.cruiseTime=t},expression:"cruiseTime"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.setCruiseTime}},[e._v("保存")]),s("el-button",{on:{click:e.cancelSetCruiseTime}},[e._v("取消")])],1)],1):s("el-button",{attrs:{size:"mini"},on:{click:function(t){e.setTimeVisible=!0}}},[e._v("设置巡航时间")]),s("el-button",{attrs:{size:"mini"},on:{click:e.startCruise}},[e._v("开始巡航")]),s("el-button",{attrs:{size:"mini"},on:{click:e.stopCruise}},[e._v("停止巡航")]),s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:e.deleteCruise}},[e._v("删除巡航")])],1)},b=[],y=(s("a434"),{name:"PtzCruising",components:{},props:["channelDeviceId","deviceId"],data:function(){return{cruiseId:1,presetList:[],allPresetList:[],selectPreset:"",inputVisible:!1,selectPresetVisible:!1,setSpeedVisible:!1,setTimeVisible:!1,cruiseSpeed:"",cruiseTime:""}},created:function(){this.getPresetList()},methods:{getPresetList:function(){var e=this;this.$store.dispatch("frontEnd/queryPreset",[this.deviceId,this.channelDeviceId]).then((function(t){e.allPresetList=t}))},addCruisePoint:function(){var e=this,t=this.$loading({lock:!0,fullscreen:!0,text:"正在发送指令",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$store.dispatch("frontEnd/addPointForCruise",[this.deviceId,this.channelDeviceId,this.cruiseId,this.selectPreset.presetId]).then((function(t){e.presetList.push(e.selectPreset)})).catch((function(t){e.$message({showClose:!0,message:t,type:"error"})})).finally((function(){e.selectPreset="",e.selectPresetVisible=!1,t.close()}))},cancelAddCruisePoint:function(){this.selectPreset="",this.selectPresetVisible=!1},delPreset:function(e,t){var s=this,n=this.$loading({lock:!0,fullscreen:!0,text:"正在发送指令",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$store.dispatch("frontEnd/deletePointForCruise",[this.deviceId,this.channelDeviceId,this.cruiseId,e.presetId]).then((function(e){s.presetList.splice(t,1)})).catch((function(e){s.$message({showClose:!0,message:e,type:"error"})})).finally((function(){n.close()}))},deleteCruise:function(e,t){var s=this;this.$confirm("确定删除此巡航组","提示",{dangerouslyUseHTMLString:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e=s.$loading({lock:!0,fullscreen:!0,text:"正在发送指令",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});s.$store.dispatch("frontEnd/deletePointForCruise",[s.deviceId,s.channelDeviceId,s.cruiseId,0]).then((function(e){s.presetList=[]})).catch((function(e){s.$message({showClose:!0,message:e,type:"error"})})).finally((function(){e.close()}))}))},setCruiseSpeed:function(){var e=this,t=this.$loading({lock:!0,fullscreen:!0,text:"正在发送指令",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$store.dispatch("frontEnd/setCruiseSpeed",[this.deviceId,this.channelDeviceId,this.cruiseId,this.cruiseSpeed]).then((function(t){e.$message({showClose:!0,message:"保存成功",type:"success"})})).catch((function(t){e.$message({showClose:!0,message:t,type:"error"})})).finally((function(){e.cruiseSpeed="",e.setSpeedVisible=!1,t.close()}))},cancelSetCruiseSpeed:function(){this.cruiseSpeed="",this.setSpeedVisible=!1},setCruiseTime:function(){var e=this,t=this.$loading({lock:!0,fullscreen:!0,text:"正在发送指令",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$store.dispatch("frontEnd/setCruiseTime",[this.deviceId,this.channelDeviceId,this.cruiseId,this.cruiseTime]).then((function(t){e.$message({showClose:!0,message:"保存成功",type:"success"})})).catch((function(t){e.$message({showClose:!0,message:t,type:"error"})})).finally((function(){e.setTimeVisible=!1,e.cruiseTime="",t.close()}))},cancelSetCruiseTime:function(){this.setTimeVisible=!1,this.cruiseTime=""},startCruise:function(){var e=this,t=this.$loading({lock:!0,fullscreen:!0,text:"正在发送指令",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$store.dispatch("frontEnd/startCruise",[this.deviceId,this.channelDeviceId,this.cruiseId]).then((function(t){e.$message({showClose:!0,message:"发送成功",type:"success"})})).catch((function(t){e.$message({showClose:!0,message:t,type:"error"})})).finally((function(){e.setTimeVisible=!1,e.cruiseTime="",t.close()}))},stopCruise:function(){var e=this,t=this.$loading({lock:!0,fullscreen:!0,text:"正在发送指令",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$store.dispatch("frontEnd/stopCruise",[this.deviceId,this.channelDeviceId,this.cruiseId]).then((function(t){e.$message({showClose:!0,message:"发送成功",type:"success"})})).catch((function(t){e.$message({showClose:!0,message:t,type:"error"})})).finally((function(){e.setTimeVisible=!1,e.cruiseTime="",t.close()}))}}}),w=y,I=(s("e8b4"),Object(p["a"])(w,v,b,!1,null,null,null)),_=I.exports,S=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"ptzScan"}},[s("div",{staticStyle:{display:"grid","grid-template-columns":"80px auto","line-height":"28px"}},[s("span",[e._v("扫描组号: ")]),s("el-input",{attrs:{min:"1",max:"255",placeholder:"扫描组号","addon-before":"扫描组号","addon-after":"(1-255)",size:"mini"},model:{value:e.scanId,callback:function(t){e.scanId=t},expression:"scanId"}})],1),s("el-button",{attrs:{size:"mini"},on:{click:e.setScanLeft}},[e._v("设置左边界")]),s("el-button",{attrs:{size:"mini"},on:{click:e.setScanRight}},[e._v("设置右边界")]),e.setSpeedVisible?s("el-form",{attrs:{size:"mini",inline:!0}},[s("el-form-item",[e.setSpeedVisible?s("el-input",{attrs:{min:"1",max:"4095",placeholder:"巡航速度","addon-before":"巡航速度","addon-after":"(1-4095)",size:"mini"},model:{value:e.speed,callback:function(t){e.speed=t},expression:"speed"}}):e._e()],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.setSpeed}},[e._v("保存")]),s("el-button",{on:{click:e.cancelSetSpeed}},[e._v("取消")])],1)],1):s("el-button",{attrs:{size:"mini"},on:{click:function(t){e.setSpeedVisible=!0}}},[e._v("设置扫描速度")]),s("el-button",{attrs:{size:"mini"},on:{click:e.startScan}},[e._v("开始自动扫描")]),s("el-button",{attrs:{size:"mini"},on:{click:e.stopScan}},[e._v("停止自动扫描")])],1)},x=[],C={name:"PtzScan",components:{},props:["channelDeviceId","deviceId"],data:function(){return{scanId:1,setSpeedVisible:!1,speed:""}},created:function(){},methods:{setSpeed:function(){var e=this,t=this.$loading({lock:!0,fullscreen:!0,text:"正在发送指令",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$store.dispatch("frontEnd/setSpeedForScan",[this.deviceId,this.channelDeviceId,this.scanId,this.speed]).then((function(t){e.$message({showClose:!0,message:"保存成功",type:"success"})})).catch((function(t){e.$message({showClose:!0,message:t,type:"error"})})).finally((function(){e.speed="",e.setSpeedVisible=!1,t.close()}))},cancelSetSpeed:function(){this.speed="",this.setSpeedVisible=!1},setScanLeft:function(){var e=this,t=this.$loading({lock:!0,fullscreen:!0,text:"正在发送指令",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$store.dispatch("frontEnd/setLeftForScan",[this.deviceId,this.channelDeviceId,this.scanId]).then((function(t){e.$message({showClose:!0,message:"保存成功",type:"success"})})).catch((function(t){e.$message({showClose:!0,message:t,type:"error"})})).finally((function(){e.speed="",e.setSpeedVisible=!1,t.close()}))},setScanRight:function(){var e=this,t=this.$loading({lock:!0,fullscreen:!0,text:"正在发送指令",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$store.dispatch("frontEnd/setRightForScan",[this.deviceId,this.channelDeviceId,this.scanId]).then((function(t){e.$message({showClose:!0,message:"保存成功",type:"success"})})).catch((function(t){e.$message({showClose:!0,message:t,type:"error"})})).finally((function(){e.speed="",e.setSpeedVisible=!1,t.close()}))},startScan:function(){var e=this,t=this.$loading({lock:!0,fullscreen:!0,text:"正在发送指令",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$store.dispatch("frontEnd/startScan",[this.deviceId,this.channelDeviceId,this.scanId]).then((function(t){e.$message({showClose:!0,message:"发送成功",type:"success"})})).catch((function(t){e.$message({showClose:!0,message:t,type:"error"})})).finally((function(){t.close()}))},stopScan:function(){var e=this,t=this.$loading({lock:!0,fullscreen:!0,text:"正在发送指令",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$store.dispatch("frontEnd/stopScan",[this.deviceId,this.channelDeviceId,this.scanId]).then((function(t){e.$message({showClose:!0,message:"发送成功",type:"success"})})).catch((function(t){e.$message({showClose:!0,message:t,type:"error"})})).finally((function(){t.close()}))}}},k=C,j=(s("fdc8"),Object(p["a"])(k,S,x,!1,null,null,null)),z=j.exports,$=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"ptzWiper"}},[s("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.open("on")}}},[e._v("开启")]),s("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.open("off")}}},[e._v("关闭")])],1)},P=[],T={name:"PtzWiper",components:{},props:["channelDeviceId","deviceId"],data:function(){return{}},created:function(){},methods:{open:function(e){var t=this,s=this.$loading({lock:!0,fullscreen:!0,text:"正在发送指令",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$store.dispatch("frontEnd/wiper",[this.deviceId,this.channelDeviceId,e]).then((function(e){t.$message({showClose:!0,message:"保存成功",type:"success"})})).catch((function(e){t.$message({showClose:!0,message:e,type:"error"})})).finally((function(){s.close()}))}}},D=T,L=(s("a135"),Object(p["a"])(D,$,P,!1,null,null,null)),E=L.exports,F=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"ptzScan"}},[s("el-form",{attrs:{size:"mini",inline:!0}},[s("el-form-item",[s("el-input",{attrs:{min:"1",max:"4095",placeholder:"开关编号","addon-before":"开关编号","addon-after":"(2-255)",size:"mini"},model:{value:e.switchId,callback:function(t){e.switchId=t},expression:"switchId"}})],1),s("el-form-item",[s("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.open("on")}}},[e._v("开启")]),s("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.open("off")}}},[e._v("关闭")])],1)],1)],1)},R=[],M={name:"PtzScan",components:{},props:["channelDeviceId","deviceId"],data:function(){return{switchId:1}},created:function(){},methods:{open:function(e){var t=this,s=this.$loading({lock:!0,fullscreen:!0,text:"正在发送指令",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$store.dispatch("frontEnd/auxiliary",[this.deviceId,this.channelDeviceId,e,this.switchId]).then((function(e){t.$message({showClose:!0,message:"保存成功",type:"success"})})).catch((function(e){t.$message({showClose:!0,message:e,type:"error"})})).finally((function(){s.close()}))}}},V=M,N=(s("34c9"),Object(p["a"])(V,F,R,!1,null,null,null)),U=N.exports,A=s("3031"),O=s("4f91"),H={name:"DevicePlayer",directives:{elDragDialog:i["a"]},components:{H265web:O["a"],PtzPreset:g,PtzCruising:_,ptzScan:z,ptzWiper:E,ptzSwitch:U,mediaInfo:A["a"],jessibucaPlayer:l["default"],rtcPlayer:c["default"]},props:{},data:function(){return{video:"http://lndxyj.iqilu.com/public/upload/2019/10/14/8c001ea0c09cdc59a57829dabc8010fa.mp4",videoUrl:"",activePlayer:"jessibuca",player:{jessibuca:["ws_flv","wss_flv"],webRTC:["rtc","rtcs"],h265web:["ws_flv","wss_flv"]},showVideoDialog:!1,streamId:"",ptzMethod:"preset",ptzPresetId:"",app:"",mediaServerId:"",deviceId:"",channelId:"",tabActiveName:"media",hasAudio:!1,loadingRecords:!1,recordsLoading:!1,isLoging:!1,controSpeed:30,timeVal:0,timeMin:0,timeMax:1440,presetPos:1,cruisingSpeed:100,cruisingTime:5,cruisingGroup:0,scanSpeed:100,scanGroup:0,tracks:[],showPtz:!0,showBroadcast:!0,showRrecord:!0,sliderTime:0,seekTime:0,recordStartTime:0,showTimeText:"00:00:00",streamInfo:null,broadcastMode:!0,broadcastRtc:null,broadcastStatus:-1}},computed:{getPlayerShared:function(){return{sharedUrl:window.location.origin+"/#/play/wasm/"+encodeURIComponent(this.videoUrl),sharedIframe:'<iframe src="'+window.location.origin+"/#/play/wasm/"+encodeURIComponent(this.videoUrl)+'"></iframe>',sharedRtmp:this.videoUrl}}},created:function(){console.log("created"),console.log(this.player),this.broadcastStatus=-1,1===Object.keys(this.player).length&&(this.activePlayer=Object.keys(this.player)[0])},methods:{tabHandleClick:function(e,t){console.log(e),this.tracks=[],"codec"===e.name?this.$refs.mediaInfo.startTask():this.$refs.mediaInfo.stopTask()},changePlayer:function(e){console.log(this.player[e.name][0]),this.activePlayer=e.name,this.videoUrl=this.getUrlByStreamInfo(),console.log(this.videoUrl)},openDialog:function(e,t,s,n){if(!this.showVideoDialog)switch(this.tabActiveName=e,this.channelId=s,this.deviceId=t,this.streamId="",this.mediaServerId="",this.app="",this.videoUrl="",this.$refs[this.activePlayer]&&this.$refs[this.activePlayer].pause(),e){case"media":this.play(n.streamInfo,n.hasAudio);break;case"streamPlay":this.tabActiveName="media",this.showRrecord=!1,this.showPtz=!1,this.showBroadcast=!1,this.play(n.streamInfo,n.hasAudio);break;case"control":break}},play:function(e,t){this.streamInfo=e,this.hasAudio=t,this.isLoging=!1,this.videoUrl=this.getUrlByStreamInfo(),this.streamId=e.stream,this.app=e.app,this.mediaServerId=e.mediaServerId,this.playFromStreamInfo(!1,e)},getUrlByStreamInfo:function(){console.log(this.streamInfo);var e=this.streamInfo;return this.streamInfo.transcodeStream&&(e=this.streamInfo.transcodeStream),"https:"===location.protocol?this.videoUrl=e[this.player[this.activePlayer][1]]:this.videoUrl=e[this.player[this.activePlayer][0]],this.videoUrl},playFromStreamInfo:function(e,t){var s=this;this.showVideoDialog=!0,this.hasaudio=e&&this.hasaudio,this.$refs[this.activePlayer]?this.$refs[this.activePlayer].play(this.getUrlByStreamInfo(t)):this.$nextTick((function(){s.$refs[s.activePlayer].play(s.getUrlByStreamInfo(t))}))},close:function(){console.log("关闭视频"),this.$refs[this.activePlayer]&&this.$refs[this.activePlayer].pause(),this.videoUrl="",this.showVideoDialog=!1,this.stopBroadcast()},ptzCamera:function(e){console.log("云台控制："+e),this.$store.dispatch("frontEnd/ptz",[this.deviceId,this.channelId,e,parseInt(255*this.controSpeed/100),parseInt(255*this.controSpeed/100),parseInt(16*this.controSpeed/100)])},irisCamera:function(e){this.$store.dispatch("frontEnd/iris",[this.deviceId,this.channelId,e,parseInt(255*this.controSpeed/100)])},focusCamera:function(e){this.$store.dispatch("frontEnd/focus",[this.deviceId,this.channelId,e,parseInt(255*this.controSpeed/100)])},videoError:function(e){console.log("播放器错误："+JSON.stringify(e))},copyUrl:function(e){var t=this;console.log(e),this.$copyText(e).then((function(e){t.$message.success({showClose:!0,message:"成功拷贝到粘贴板"})}),(function(e){}))},getBroadcastStatus:function(){return-2==this.broadcastStatus||-1==this.broadcastStatus?"primary":0==this.broadcastStatus?"warning":1===this.broadcastStatus?"danger":void 0},broadcastStatusClick:function(){var e=this;-1===this.broadcastStatus?(this.broadcastStatus=0,this.$store.dispatch("play/broadcastStart",[this.deviceId,this.channelId,this.broadcastMode]).then((function(t){var s=t.streamInfo;document.location.protocol.includes("https")?e.startBroadcast(s.rtcs):e.startBroadcast(s.rtc)}))):1===this.broadcastStatus&&(this.broadcastStatus=-1,this.broadcastRtc.close())},startBroadcast:function(e){var t=this;this.$store.dispatch("user/getUserInfo").then((function(s){if(null!=s){var n=s.pushKey;e+="&sign="+r.a.createHash("md5").update(n,"utf8").digest("hex"),console.log("开始语音喊话： "+e),t.broadcastRtc=new ZLMRTCClient.Endpoint({debug:!0,zlmsdpUrl:e,simulecast:!1,useCamera:!1,audioEnable:!0,videoEnable:!1,recvOnly:!1}),t.broadcastRtc.on(ZLMRTCClient.Events.WEBRTC_NOT_SUPPORT,(function(e){console.error("不支持webrtc",e),t.$message({showClose:!0,message:"不支持webrtc, 无法进行语音喊话",type:"error"}),t.broadcastStatus=-1})),t.broadcastRtc.on(ZLMRTCClient.Events.WEBRTC_ICE_CANDIDATE_ERROR,(function(e){console.error("ICE 协商出错"),t.$message({showClose:!0,message:"ICE 协商出错",type:"error"}),t.broadcastStatus=-1})),t.broadcastRtc.on(ZLMRTCClient.Events.WEBRTC_OFFER_ANWSER_EXCHANGE_FAILED,(function(e){console.error("offer anwser 交换失败",e),t.$message({showClose:!0,message:"offer anwser 交换失败"+e,type:"error"}),t.broadcastStatus=-1})),t.broadcastRtc.on(ZLMRTCClient.Events.WEBRTC_ON_CONNECTION_STATE_CHANGE,(function(e){console.log("状态改变",e),"connecting"===e?t.broadcastStatus=0:"connected"===e?t.broadcastStatus=1:"disconnected"===e&&(t.broadcastStatus=-1)})),t.broadcastRtc.on(ZLMRTCClient.Events.CAPTURE_STREAM_FAILED,(function(e){console.log("捕获流失败",e),t.$message({showClose:!0,message:"捕获流失败"+e,type:"error"}),t.broadcastStatus=-1}))}else t.broadcastStatus=-1})).catch((function(e){t.$message({showClose:!0,message:e,type:"error"}),t.broadcastStatus=-1}))},stopBroadcast:function(){this.broadcastRtc.close(),this.broadcastStatus=-1,this.$store.dispatch("play/broadcastStop",[this.deviceId,this.channelId])}}},B=H,W=(s("28ce"),Object(p["a"])(B,n,a,!1,null,null,null));t["a"]=W.exports},"0868":function(e,t,s){},"28ce":function(e,t,s){"use strict";s("41d8")},"2b7e":function(e,t,s){},"34c9":function(e,t,s){"use strict";s("2b7e")},"41d8":function(e,t,s){},4678:function(e,t,s){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-ps":"4c98","./ar-ps.js":"4c98","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3b","./en-ie.js":"e1d3b","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df48","./fa.js":"8df48","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b46","./gd.js":"f6b46","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku-kmr":"7558","./ku-kmr.js":"7558","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e9","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e9","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=i(e);return s(t)}function i(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=i,e.exports=a,a.id="4678"},"517d":function(e,t,s){},"598b":function(e,t,s){"use strict";s("b8a1")},"5a32":function(e,t,s){"use strict";s("517d")},7295:function(e,t,s){},9406:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container",staticStyle:{height:"calc(100vh - 118px)","background-color":"rgba(242,242,242,0.50)"},attrs:{id:"app"}},[s("el-row",{staticStyle:{width:"100%",height:"100%"}},[s("el-col",{attrs:{xl:{span:8},lg:{span:8},md:{span:12},sm:{span:12},xs:{span:24}}},[s("div",{staticClass:"control-cell",attrs:{id:"ThreadsLoad"}},[s("div",{staticStyle:{width:"100%",height:"100%"}},[s("consoleCPU",{ref:"consoleCPU"})],1)])]),s("el-col",{attrs:{xl:{span:8},lg:{span:8},md:{span:12},sm:{span:12},xs:{span:24}}},[s("div",{staticClass:"control-cell",attrs:{id:"WorkThreadsLoad"}},[s("div",{staticStyle:{width:"100%",height:"100%"}},[s("consoleResource",{ref:"consoleResource"})],1)])]),s("el-col",{attrs:{xl:{span:8},lg:{span:8},md:{span:12},sm:{span:12},xs:{span:24}}},[s("div",{staticClass:"control-cell",attrs:{id:"WorkThreadsLoad"}},[s("div",{staticStyle:{width:"100%",height:"100%"}},[s("consoleNet",{ref:"consoleNet"})],1)])]),s("el-col",{attrs:{xl:{span:8},lg:{span:8},md:{span:12},sm:{span:12},xs:{span:24}}},[s("div",{staticClass:"control-cell",attrs:{id:"WorkThreadsLoad"}},[s("div",{staticStyle:{width:"100%",height:"100%"}},[s("consoleMem",{ref:"consoleMem"})],1)])]),s("el-col",{attrs:{xl:{span:8},lg:{span:8},md:{span:12},sm:{span:12},xs:{span:24}}},[s("div",{staticClass:"control-cell",attrs:{id:"WorkThreadsLoad"}},[s("div",{staticStyle:{width:"100%",height:"100%"}},[s("consoleNodeLoad",{ref:"consoleNodeLoad"})],1)])]),s("el-col",{attrs:{xl:{span:8},lg:{span:8},md:{span:12},sm:{span:12},xs:{span:24}}},[s("div",{staticClass:"control-cell",attrs:{id:"WorkThreadsLoad"}},[s("div",{staticStyle:{width:"100%",height:"100%"}},[s("consoleDisk",{ref:"consoleDisk"})],1)])])],1)],1)},a=[],i=(s("b0c0"),s("130f"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{width:"100%",height:"100%",background:"#FFFFFF","text-align":"center"},attrs:{id:"consoleCPU"}},[s("ve-line",{ref:"consoleCPU",attrs:{data:e.chartData,extend:e.extend,width:"100%",height:"100%","legend-visible":!1}})],1)}),o=[],r=(s("b680"),s("c1df")),c=s.n(r),l=s("ba1a"),d=s.n(l),u={name:"ConsoleCPU",components:{veLine:d.a},data:function(){return{chartData:{columns:["time","data"],rows:[]},extend:{title:{show:!0,text:"CPU",left:"center",top:20},grid:{show:!0,right:"30px",containLabel:!0},xAxis:{time:"time",max:"dataMax",boundaryGap:["20%","20%"],axisLabel:{formatter:function(e){return c()(e).format("HH:mm:ss")},showMaxLabel:!0}},yAxis:{type:"value",min:0,max:1,splitNumber:6,position:"left",silent:!0,axisLabel:{formatter:function(e){return 100*e+"%"}}},tooltip:{trigger:"axis",formatter:function(e){return console.log(e),c()(e[0].data[0]).format("HH:mm:ss")+"</br> "+e[0].marker+"使用："+(100*e[0].data[1]).toFixed(2)+"%"}},series:{itemStyle:{color:"#409EFF"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#50a3f8"},{offset:1,color:"#69b0fa"}],global:!1}}}}}},created:function(){},mounted:function(){var e=this;this.$nextTick((function(t){setTimeout((function(){e.$refs.consoleCPU.echarts.resize()}),100)}))},destroyed:function(){},methods:{setData:function(e){this.chartData.rows=e}}},h=u,f=s("2877"),p=Object(f["a"])(h,i,o,!1,null,null,null),m=p.exports,g=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{width:"100%",height:"100%",background:"#FFFFFF","text-align":"center"},attrs:{id:"ConsoleMEM"}},[s("ve-line",{ref:"ConsoleMEM",attrs:{data:e.chartData,extend:e.extend,width:"100%",height:"100%","legend-visible":!1}})],1)},v=[],b={name:"ConsoleMEM",components:{veLine:d.a},data:function(){return{chartData:{columns:["time","data"],rows:[]},extend:{title:{show:!0,text:"内存",left:"center",top:20},grid:{show:!0,right:"30px",containLabel:!0},xAxis:{time:"time",max:"dataMax",boundaryGap:["20%","20%"],axisLabel:{formatter:function(e){return c()(e).format("HH:mm:ss")},showMaxLabel:!0}},yAxis:{type:"value",min:0,max:1,splitNumber:6,position:"left",silent:!0,axisLabel:{formatter:function(e){return 100*e+"%"}}},tooltip:{trigger:"axis",formatter:function(e){return console.log(e),c()(e[0].data[0]).format("HH:mm:ss")+"</br>"+e[0].marker+" 使用："+(100*e[0].data[1]).toFixed(2)+"%"}},series:{itemStyle:{color:"#409EFF"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#50a3f8"},{offset:1,color:"#69b0fa"}],global:!1}}}}}},mounted:function(){var e=this;this.$nextTick((function(t){setTimeout((function(){e.$refs.ConsoleMEM.echarts.resize()}),100)}))},destroyed:function(){},methods:{setData:function(e){this.chartData.rows=e}}},y=b,w=Object(f["a"])(y,g,v,!1,null,null,null),I=w.exports,_=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{width:"100%",height:"100%",background:"#FFFFFF","text-align":"center"},attrs:{id:"ConsoleNet"}},[s("ve-line",{ref:"ConsoleNet",attrs:{data:e.chartData,extend:e.extend,settings:e.chartSettings,events:e.chartEvents,width:"100%",height:"100%"}})],1)},S=[],x={name:"ConsoleNet",components:{veLine:d.a},data:function(){var e=this;return{chartData:{columns:["time","out","in"],rows:[]},chartSettings:{area:!0,labelMap:{in:"下载",out:"上传"}},extend:{title:{show:!0,text:"网络",left:"center",top:20},grid:{show:!0,right:"30px",containLabel:!0},xAxis:{time:"time",max:"dataMax",boundaryGap:["20%","20%"],axisLabel:{formatter:function(e){return c()(e).format("HH:mm:ss")},showMaxLabel:!0}},yAxis:{type:"value",min:0,max:1e3,splitNumber:6,position:"left",silent:!0},tooltip:{trigger:"axis",formatter:function(t){var s=!0,n=!0;for(var a in e.extend.legend.selected)"上传"==a&&(n=e.extend.legend.selected[a]),"下载"==a&&(s=e.extend.legend.selected[a]);return n&&s?t[1].marker+"下载："+parseFloat(t[1].data[1]).toFixed(2)+"Mbps</br> "+t[0].marker+"上传："+parseFloat(t[0].data[1]).toFixed(2)+"Mbps":n?t[0].marker+"上传："+parseFloat(t[0].data[1]).toFixed(2)+"Mbps":s?t[0].marker+"下载："+parseFloat(t[0].data[1]).toFixed(2)+"Mbps":""}},legend:{left:"center",bottom:"15px",selected:{}}},chartEvents:{legendselectchanged:function(t){e.extend.legend.selected=t.selected}}}},mounted:function(){var e=this;this.$nextTick((function(t){setTimeout((function(){e.$refs.ConsoleNet.echarts.resize()}),100)}))},destroyed:function(){},methods:{setData:function(e,t){this.chartData.rows=e,this.extend.yAxis.max=t}}},C=x,k=Object(f["a"])(C,_,S,!1,null,null,null),j=k.exports,z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{width:"100%",height:"100%",background:"#FFFFFF","text-align":"center"},attrs:{id:"ConsoleNodeLoad"}},[s("ve-histogram",{ref:"consoleNodeLoad",attrs:{data:e.chartData,extend:e.extend,events:e.events,settings:e.chartSettings,width:"100%",height:"100%","legend-visible":!0}}),s("HasStreamChannel",{ref:"hasStreamChannel"})],1)},$=[],P=s("7067"),T=s.n(P),D=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.showDialog?s("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{visible:e.showDialog,title:"国标收流列表",width:"70%",top:"5rem","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.showDialog=t}}},[s("el-form",{attrs:{inline:!0,size:"mini"},nativeOn:{submit:function(e){e.preventDefault()}}},[s("el-form-item",{attrs:{label:"搜索"}},[s("el-input",{attrs:{placeholder:"关键字","prefix-icon":"el-icon-search",clearable:""},on:{input:e.getChannelList},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}})],1)],1),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.channelList,height:500,stripe:""}},[s("el-table-column",{attrs:{prop:"parentDeviceId",label:"设备编号","min-width":"180"}}),s("el-table-column",{attrs:{prop:"parentName",label:"设备名称","min-width":"180"}}),s("el-table-column",{attrs:{prop:"deviceId",label:"通道编号","min-width":"180"}}),s("el-table-column",{attrs:{prop:"name",label:"通道名称","min-width":"180"}}),s("el-table-column",{attrs:{prop:"ptzType",label:"云台类型","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",[e._v(e._s(t.row.ptzTypeText))])]}}],null,!1,867005290)}),s("el-table-column",{attrs:{label:"操作","min-width":"120",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"medium",icon:"el-icon-video-play",type:"text",loading:t.row.playing},on:{click:function(s){return e.sendDevicePush(t.row)}}},[e._v("播放 ")]),s("el-button",{staticStyle:{color:"#f56c6c"},attrs:{size:"medium",icon:"el-icon-switch-button",type:"text"},on:{click:function(s){return e.stopDevicePush(t.row)}}},[e._v("停止 ")])]}}],null,!1,2165559792)})],1),s("el-pagination",{staticStyle:{"margin-top":"10px","text-align":"right"},attrs:{"current-page":e.currentPage,"page-size":e.count,"page-sizes":[15,25,35,50],layout:"total, sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.currentChange}})],1):e._e(),s("devicePlayer",{ref:"devicePlayer"})],1)},L=[],E=(s("d3b7"),s("0328")),F=s("a888"),R={name:"HasStreamChannel",directives:{elDragDialog:F["a"]},components:{devicePlayer:E["a"]},data:function(){return{showDialog:!1,loading:!1,playing:!1,channelList:[],query:null,currentPage:1,count:15,total:0}},methods:{openDialog:function(){this.showDialog=!0,this.getChannelList()},getChannelList:function(){var e=this;this.loading=!0,this.$store.dispatch("device/queryHasStreamChannels",{page:this.currentPage,count:this.count,query:this.query}).then((function(t){e.total=t.total,e.channelList=t.list})).finally((function(){e.loading=!1}))},currentChange:function(e){this.currentPage=e,this.getChannelList()},handleSizeChange:function(e){this.count=e,this.getChannelList()},sendDevicePush:function(e){var t=this,s=e.parentDeviceId,n=e.deviceId;this.$set(e,"playing",!0),this.$store.dispatch("play/play",[s,n]).then((function(a){t.$refs.devicePlayer.openDialog("media",s,n,{streamInfo:a,hasAudio:e.hasAudio})})).finally((function(){t.$set(e,"playing",!1)}))},stopDevicePush:function(e){var t=this;this.$store.dispatch("play/stop",[e.parentDeviceId,e.deviceId]).then((function(e){t.getChannelList()})).catch((function(e){402===e.response.status?t.getChannelList():t.$message.error({showClose:!0,message:e})}))}}},M=R,V=Object(f["a"])(M,D,L,!1,null,null,null),N=V.exports,U={name:"ConsoleNodeLoad",components:{veHistogram:T.a,HasStreamChannel:N},data:function(){return{chartData:{columns:["id","push","proxy","gbReceive","gbSend"],rows:[]},chartSettings:{labelMap:{push:"直播推流",proxy:"拉流代理",gbReceive:"国标收流",gbSend:"国标推流"}},extend:{title:{show:!0,text:"节点负载",left:"center",top:20},legend:{left:"center",bottom:"15px"},label:{show:!0,position:"top"}},events:{click:this.onClick}}},mounted:function(){var e=this;this.$nextTick((function(t){setTimeout((function(){e.$refs.consoleNodeLoad.echarts.resize()}),100)}))},destroyed:function(){},methods:{setData:function(e){this.chartData.rows=e},onClick:function(e){"国标收流"===e.seriesName&&this.$refs.hasStreamChannel.openDialog()}}},A=U,O=Object(f["a"])(A,z,$,!1,null,null,null),H=O.exports,B=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{width:"100%",height:"100%",background:"#FFFFFF","text-align":"center"},attrs:{id:"ConsoleNet"}},[s("ve-bar",{ref:"ConsoleNet",attrs:{data:e.chartData,extend:e.extend,settings:e.chartSettings,width:"100%",height:"100%"}})],1)},W=[],q=s("72fb"),G=s.n(q),Z={name:"ConsoleNet",components:{veBar:G.a},data:function(){return{chartData:{columns:["path","free","use"],rows:[]},chartSettings:{stack:{xxx:["free","use"]},labelMap:{free:"剩余",use:"已使用"}},extend:{title:{show:!0,text:"磁盘",left:"center",top:20},grid:{show:!0,right:"30px",containLabel:!0},series:{barWidth:30},legend:{left:"center",bottom:"15px"},tooltip:{trigger:"axis",formatter:function(e){console.log(e);for(var t="",s=0;s<e.length;s++)t+=e[s].marker+e[s].seriesName+":"+e[s].value.toFixed(2)+"GB",s<e.length-1&&(t+="</br>");return t}}}}},mounted:function(){var e=this;this.$nextTick((function(t){setTimeout((function(){e.$refs.ConsoleNet.echarts.resize()}),100)}))},destroyed:function(){},methods:{setData:function(e){this.chartData.rows=e}}},J=Z,X=Object(f["a"])(J,B,W,!1,null,null,null),Y=X.exports,K=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{width:"100%",height:"100%",background:"#FFFFFF","text-align":"center"},attrs:{id:"consoleResource"}},[s("div",{staticStyle:{width:"50%",height:"50%",float:"left"}},[e.deviceInfo.total>0?s("el-progress",{staticStyle:{"margin-top":"20px","font-size":"18px"},attrs:{width:100,"stroke-width":8,type:"circle",percentage:Math.floor(e.deviceInfo.online/e.deviceInfo.total*100)}}):e._e(),0===e.deviceInfo.total?s("el-progress",{staticStyle:{"margin-top":"20px","font-size":"18px"},attrs:{width:100,"stroke-width":8,type:"circle",percentage:0}}):e._e(),s("div",{staticClass:"resourceInfo"},[e._v(" 设备总数:"+e._s(e.deviceInfo.total)),s("br"),e._v(" 在线数:"+e._s(e.deviceInfo.online)+" ")])],1),s("div",{staticStyle:{width:"50%",height:"50%",float:"left"}},[e.channelInfo.total>0?s("el-progress",{staticStyle:{"margin-top":"20px"},attrs:{width:100,"stroke-width":10,type:"circle",percentage:Math.floor(e.channelInfo.online/e.channelInfo.total*100)}}):e._e(),0===e.channelInfo.total?s("el-progress",{staticStyle:{"margin-top":"20px"},attrs:{width:100,"stroke-width":10,type:"circle",percentage:0}}):e._e(),s("div",{staticClass:"resourceInfo"},[e._v(" 通道总数:"+e._s(e.channelInfo.total)),s("br"),e._v(" 在线数:"+e._s(e.channelInfo.online)+" ")])],1),s("div",{staticStyle:{width:"50%",height:"50%",float:"left"}},[e.pushInfo.total>0?s("el-progress",{staticStyle:{"margin-top":"20px"},attrs:{width:100,"stroke-width":10,type:"circle",percentage:Math.floor(e.pushInfo.online/e.pushInfo.total*100)}}):e._e(),0===e.pushInfo.total?s("el-progress",{staticStyle:{"margin-top":"20px"},attrs:{width:100,"stroke-width":10,type:"circle",percentage:0}}):e._e(),s("div",{staticClass:"resourceInfo"},[e._v(" 推流总数:"+e._s(e.pushInfo.total)),s("br"),e._v(" 在线数:"+e._s(e.pushInfo.online)+" ")])],1),s("div",{staticStyle:{width:"50%",height:"50%",float:"left"}},[e.proxyInfo.total>0?s("el-progress",{staticStyle:{"margin-top":"20px"},attrs:{width:100,"stroke-width":10,type:"circle",percentage:Math.floor(e.proxyInfo.online/e.proxyInfo.total*100)}}):e._e(),0===e.proxyInfo.total?s("el-progress",{staticStyle:{"margin-top":"20px"},attrs:{width:100,"stroke-width":10,type:"circle",percentage:0}}):e._e(),s("div",{staticClass:"resourceInfo"},[e._v(" 拉流代理总数:"+e._s(e.proxyInfo.total)),s("br"),e._v(" 在线数:"+e._s(e.proxyInfo.online)+" ")])],1)])},Q=[],ee={name:"ConsoleResource",data:function(){return{deviceInfo:{total:0,online:0},channelInfo:{total:0,online:0},pushInfo:{total:0,online:0},proxyInfo:{total:0,online:0}}},created:function(){},mounted:function(){},destroyed:function(){},methods:{setData:function(e){this.deviceInfo=e.device,this.channelInfo=e.channel,this.pushInfo=e.push,this.proxyInfo=e.proxy}}},te=ee,se=(s("5a32"),Object(f["a"])(te,K,Q,!1,null,null,null)),ne=se.exports,ae={name:"Dashboard",components:{consoleCPU:m,consoleMem:I,consoleNet:j,consoleNodeLoad:H,consoleDisk:Y,consoleResource:ne},data:function(){return{timer:null}},created:function(){this.getSystemInfo(),this.getLoad(),this.getResourceInfo(),this.loopForSystemInfo()},destroyed:function(){window.clearImmediate(this.timer)},methods:{loopForSystemInfo:function(){var e=this;null!=this.timer&&window.clearTimeout(this.timer),this.timer=setTimeout((function(){console.log(e.$route.name),"控制台"===e.$route.name&&(e.getSystemInfo(),e.getLoad(),e.timer=null,e.loopForSystemInfo(),e.getResourceInfo())}),2e3)},getSystemInfo:function(){var e=this;this.$store.dispatch("server/getSystemInfo").then((function(t){e.$refs.consoleCPU.setData(t.cpu),e.$refs.consoleMem.setData(t.mem),e.$refs.consoleNet.setData(t.net,t.netTotal),e.$refs.consoleDisk.setData(t.disk)}))},getLoad:function(){var e=this;this.$store.dispatch("server/getMediaServerLoad").then((function(t){e.$refs.consoleNodeLoad.setData(t)}))},getResourceInfo:function(){var e=this;this.$store.dispatch("server/getResourceInfo").then((function(t){e.$refs.consoleResource.setData(t)}))}}},ie=ae,oe=(s("598b"),Object(f["a"])(ie,n,a,!1,null,null,null));t["default"]=oe.exports},a135:function(e,t,s){"use strict";s("b21a")},a888:function(e,t,s){"use strict";s("99af"),s("caad"),s("ac1f"),s("2532"),s("5319");var n={bind:function(e,t,s){var n=e.querySelector(".el-dialog__header"),a=e.querySelector(".el-dialog");n.style.cssText+=";cursor:move;",a.style.cssText+=";top:0px;";var i=function(){return window.document.currentStyle?function(e,t){return e.currentStyle[t]}:function(e,t){return getComputedStyle(e,!1)[t]}}();n.onmousedown=function(e){var t=e.clientX-n.offsetLeft,o=e.clientY-n.offsetTop,r=a.offsetWidth,c=a.offsetHeight,l=document.body.clientWidth,d=document.body.clientHeight,u=a.offsetLeft,h=l-a.offsetLeft-r,f=a.offsetTop,p=d-a.offsetTop-c,m=i(a,"left"),g=i(a,"top");m.includes("%")?(m=+document.body.clientWidth*(+m.replace(/\%/g,"")/100),g=+document.body.clientHeight*(+g.replace(/\%/g,"")/100)):(m=+m.replace(/\px/g,""),g=+g.replace(/\px/g,"")),document.onmousemove=function(e){var n=e.clientX-t,i=e.clientY-o;-n>u?n=-u:n>h&&(n=h),-i>f?i=-f:i>p&&(i=p),a.style.cssText+=";left:".concat(n+m,"px;top:").concat(i+g,"px;"),s.child.$emit("dragDialog")},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}},a=function(e){e.directive("el-drag-dialog",n)};window.Vue&&(window["el-drag-dialog"]=n,Vue.use(a)),n.install=a;t["a"]=n},b21a:function(e,t,s){},b8a1:function(e,t,s){},e8b4:function(e,t,s){"use strict";s("0868")},fdc8:function(e,t,s){"use strict";s("7295")}}]);